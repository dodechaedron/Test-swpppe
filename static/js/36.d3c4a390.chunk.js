(this["webpackJsonparcherswap-frontend"]=this["webpackJsonparcherswap-frontend"]||[]).push([[36],{1296:function(e,t,n){"use strict";n.d(t,"e",(function(){return f})),n.d(t,"k",(function(){return h})),n.d(t,"g",(function(){return O})),n.d(t,"b",(function(){return g})),n.d(t,"j",(function(){return m})),n.d(t,"i",(function(){return v})),n.d(t,"h",(function(){return y})),n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return S})),n.d(t,"f",(function(){return k}));var a=n(2),r=n.n(a),c=n(11),i=n(18),s=n(0),o=n(9),l=n.n(o),d=n(47),u=n(27),b=n(45),j=n(91),p=n(58),x=n(77),f=function(){var e=Object(s.useState)(new l.a(0)),t=Object(i.a)(e,2),n=t[0],a=t[1],o=Object(u.d)().account,d=Object(p.a)(),b=Object(x.a)().fastRefresh;return Object(s.useEffect)((function(){o&&function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.eth.getBalance(o);case 2:t=e.sent,a(new l.a(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[o,d,b]),n},h=function(){var e=Object(s.useState)(new l.a(0)),t=Object(i.a)(e,2),n=t[0],a=t[1],o=Object(u.d)().account,j=Object(p.a)(),f=Object(x.a)().fastRefresh;return Object(s.useEffect)((function(){o&&function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(b.d)(d.a.wcore.address[1116],j),e.next=3,t.methods.balanceOf(o).call();case 3:n=e.sent,a(new l.a(n));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[o,j,f]),n},O=function(e,t){var n=Object(s.useState)(new l.a(0)),a=Object(i.a)(n,2),o=a[0],d=a[1],j=Object(u.d)().account,f=Object(p.a)(),h=Object(x.a)().fastRefresh;return Object(s.useEffect)((function(){j&&e&&t&&function(){var n=Object(c.a)(r.a.mark((function n(){var a,c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=Object(b.d)(e,f),n.next=3,a.methods.allowance(j,t).call();case 3:c=n.sent,d(new l.a(c));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()}),[j,e,f,h,t]),o},g=function(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],o=Object(u.d)().account,d=Object(p.a)();return{onApprove:Object(s.useCallback)(function(){var e=Object(c.a)(r.a.mark((function e(t,n){var c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),c=Object(b.d)(n,d),e.next=5,c.methods.approve(t,new l.a(2).pow(256).minus(1).toString(10)).send({from:o});case 5:return i=e.sent,a(!1),e.abrupt("return",i);case 10:return e.prev=10,e.t0=e.catch(0),a(!1),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),[d,o]),approvePending:n}},m=function(e){var t=Object(s.useState)(""),n=Object(i.a)(t,2),a=n[0],o=n[1],l=Object(p.a)(),d=Object(x.a)().fastRefresh;return Object(s.useEffect)((function(){e&&function(){var t=Object(c.a)(r.a.mark((function t(){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(b.d)(e,l),t.next=3,n.methods.symbol().call();case 3:a=t.sent,o(a);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[e,l,d]),a},v=function(e){var t=Object(s.useState)(0),n=Object(i.a)(t,2),a=n[0],o=n[1],l=Object(p.a)(),d=Object(x.a)().fastRefresh;return Object(s.useEffect)((function(){e&&function(){var t=Object(c.a)(r.a.mark((function t(){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(b.d)(e,l),t.next=3,n.methods.decimals().call();case 3:a=t.sent,o(a);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[e,l,d]),a},y=function(e,t){var n=Object(s.useState)(new l.a(0)),a=Object(i.a)(n,2),o=a[0],d=a[1],p=Object(u.d)().account,f=Object(j.c)(t),h=Object(x.a)().fastRefresh;return Object(s.useEffect)((function(){p&&e&&t&&function(){var t=Object(c.a)(r.a.mark((function t(){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(b.d)(e,f),t.next=3,n.methods.balanceOf(p).call();case 3:a=t.sent,d(new l.a(a));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[p,e,f,h,t]),o},w=function(e){var t=Object(s.useState)(new l.a(0)),n=Object(i.a)(t,2),a=n[0],o=n[1],d=Object(x.a)().fastRefresh,u=Object(p.a)();return Object(s.useEffect)((function(){(function(){var t=Object(c.a)(r.a.mark((function t(){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(b.d)(e,u),t.next=3,n.methods.balanceOf("0x000000000000000000000000000000000000dEaD").call();case 3:a=t.sent,o(new l.a(a));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[u,e,d]),a},S=function(){var e=Object(s.useState)(new l.a(0)),t=Object(i.a)(e,2),n=t[0],a=t[1],o=Object(x.a)().fastRefresh,d=Object(p.a)();return Object(s.useEffect)((function(){(function(){var e=Object(c.a)(r.a.mark((function e(){var t,n,c,s,o,d,u,j;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(b.e)(),e.next=3,Promise.all([t.methods.totalSupply().call(),t.methods.balanceOf("0x48Db2BD42B1F8B315Ab86C24d29C43fCDa99e984").call(),t.methods.balanceOf("0x7bf76646fbe70b13b72b0b46284f747eec5d0181").call(),t.methods.balanceOf("0x000000000000000000000000000000000000dEaD").call()]);case 3:n=e.sent,c=Object(i.a)(n,4),s=c[0],o=c[1],d=c[2],u=c[3],j=new l.a(o).plus(d).plus(u),a(new l.a(s).minus(j));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[d,o]),n},k=function(){var e=Object(s.useState)(0),t=Object(i.a)(e,2),n=t[0],a=t[1],o=Object(x.a)().slowRefresh,l=Object(p.a)();return Object(s.useEffect)((function(){(function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(b.j)(l),e.next=3,t.methods.allPairsLength().call();case 3:n=e.sent,a(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[l,o]),n};t.a=function(e){var t=Object(s.useState)(new l.a(0)),n=Object(i.a)(t,2),a=n[0],o=n[1],d=Object(u.d)().account,j=Object(p.a)(),f=Object(x.a)().fastRefresh;return Object(s.useEffect)((function(){d&&e&&function(){var t=Object(c.a)(r.a.mark((function t(){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(b.d)(e,j),t.next=3,n.methods.balanceOf(d).call();case 3:a=t.sent,o(new l.a(a));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[d,e,j,f]),a}},1447:function(e,t,n){"use strict";var a,r=n(14),c=(n(0),n(6)),i=n(7),s=n(86),o=n(1),l=c.default.div(a||(a=Object(r.a)(["\n  display: flex;\n  align-items: center;\n\n  // a {\n  //   margin-right: 24px;\n  // }\n"])));t.a=function(){return Object(o.jsx)(l,{children:Object(o.jsx)(s.a,{to:"/my-nfts",children:Object(o.jsx)(i.l,{children:"My NFTs"})})})}},1968:function(e,t,n){"use strict";n.r(t);var a,r=n(18),c=n(14),i=n(0),s=n(6),o=n(63),l=n(86),d=n(27),u=n(1338),b=n(1949),j=n(1273),p=n(1989),x=n(1990),f=n(1943),h=n(1994),O=n(1),g=Object(s.default)(p.a)(a||(a=Object(c.a)(["\n  border: 1px solid #e0e0e0;\n  border-radius: 20px;\n  box-shadow: 0px 4px 10px rgba(105, 105, 105, 0.15);\n\n  span,\n  a,\n  p {\n    color: ",";\n  }\n"])),(function(e){return e.theme.colors.text})),m=function(e){var t=e.collectionInfo;return Object(O.jsx)(g,{children:Object(O.jsxs)(p.a,{sx:{},children:[Object(O.jsx)(x.a,{sx:{py:"16px",px:"24px"},children:"Info"}),Object(O.jsx)(f.a,{}),Object(O.jsx)(p.a,{sx:{display:"flex",gap:"25px",py:"20px",px:"24px"},children:Object(O.jsxs)(p.a,{sx:{display:"flex",gap:{xs:"10px",md:"20px"},boxShadow:"none"},children:[Object(O.jsxs)(p.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:"15px"},children:[Object(O.jsx)("a",{href:null===t||void 0===t?void 0:t.websiteUrl,rel:"noreferrer",target:"_blank",children:Object(O.jsx)(h.a,{"aria-label":"search",sx:{padding:"0",boxShadow:"none",width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"#3960C1",cursor:"pointer",":hover":{backgroundColor:"#3960C1"}},children:Object(O.jsx)("img",{src:"/images/nfts/marketplace/global.svg",alt:"global"})})}),Object(O.jsx)(x.a,{children:"Website"})]}),Object(O.jsxs)(p.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:"15px"},children:[Object(O.jsx)(h.a,{"aria-label":"search",sx:{padding:"0",boxShadow:"none",width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"#3960C1",cursor:"pointer",":hover":{backgroundColor:"#3960C1"}},children:Object(O.jsx)("a",{href:"https://scan.coredao.org/address/".concat(null===t||void 0===t?void 0:t.address),rel:"noreferrer",target:"_blank",children:Object(O.jsx)("img",{src:"/images/nfts/marketplace/scan.svg",alt:"scan"})})}),Object(O.jsx)(x.a,{children:"Contract"})]})]})})]})})},v=n(1995),y=function(e){var t=e.imageUrl;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(p.a,{width:"100%",sx:{pt:"100%",position:"relative"},children:Object(O.jsx)(v.a,{component:"img",height:"auto",image:t,alt:"",sx:{borderRadius:"12px",bottom:0,left:0,margin:"auto",height:"100%",maxWidth:"100%",right:0,position:"absolute",top:0}})})})},w=n(33),S=n(9),k=n.n(S),C=n(1991),I=n(7),E=n(1996),T=n(1993),R=n(1339),z=n(1296),B=n(1441);function F(e){var t=e.timestamp,n=e.onExpired;return t?Object(O.jsx)(B.a,{date:1e3*t,renderer:function(e){var t=e.days,a=e.hours,r=e.minutes;return e.completed?(n(),Object(O.jsx)(O.Fragment,{})):Object(O.jsxs)(x.a,{sx:{fontSize:"12px",color:"#666666"},children:[t?"".concat(t," days : "):"",a?"".concat(a," hours : "):"",r?"".concat(r," minutes"):""]})}}):null}var W,P,D,A,M,L,N=n(677),Y=n.n(N),H=n(1979),Z=n(2e3),U=n(1976),_=n(64),q=n(1513),G=n(422),$=Object(G.a)("div")((function(e){var t=e.theme;return{display:"flex",alignItems:"center",position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:t.palette.grey[100],width:"100%"}})),J=Object(G.a)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",right:0,position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),K=Object(G.a)(q.c)((function(e){var t=e.theme;return{color:"inherit",width:"100%","& .MuiInputBase-input":{padding:t.spacing(2.5,2.1,2.3,2.5),paddingRight:"calc(1em + ".concat(t.spacing(6),")"),width:"100%"}}})),Q=Object(s.default)(p.a)(W||(W=Object(c.a)(["\n  .expiry-item {\n    background-color: ",";\n    color: ",";\n  }\n"])),(function(e){return e.theme.colors.background}),(function(e){return e.theme.colors.text})),V=[{label:"3 days",days:3},{label:"7 days",days:7},{label:"30 days",days:30},{label:"6 months",days:180}],X=function(e){var t=e.collectionInfo,n=e.tokenInfo,a=e.serviceFee,c=e.royalty,s=e.onCancel,o=Object(i.useState)(["Sell price","Approve","Sign"]),l=Object(r.a)(o,2),d=l[0],u=l[1],b=Object(i.useState)(0),j=Object(r.a)(b,2),f=j[0],h=j[1],g=Object(i.useState)(0),m=Object(r.a)(g,2),v=m[0],y=m[1],w=Object(i.useState)(3),S=Object(r.a)(w,2),I=S[0],E=S[1],z=Object(R.b)(null===t||void 0===t?void 0:t.address),B=Object(r.a)(z,2),F=B[0],W=B[1],P=Object(R.j)(null===t||void 0===t?void 0:t.address),D=Object(r.a)(P,2),A=D[0],M=D[1],L=Object(R.q)(),N=Object(r.a)(L,3),q=N[0],G=N[1],X=N[2],ee=Object(_.o)();Object(i.useEffect)((function(){0===f&&A&&3===d.length&&u(["Sell price","Sign"])}),[f,A,d]),Object(i.useEffect)((function(){1===f&&A&&3===d.length&&h(2)}),[f,A,d]),Object(i.useEffect)((function(){M()}),[F,M]);return Object(O.jsxs)(Q,{children:[Object(O.jsxs)(p.a,{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(O.jsx)(x.a,{variant:"h1",style:{fontSize:24},children:"List onto market"}),Object(O.jsx)(x.a,{variant:"h1",style:{fontSize:16,cursor:"pointer"},onClick:s,children:G?"Done":"Cancel"})]}),Object(O.jsx)(p.a,{sx:{width:"100%",padding:"24px 4px",marginTop:"24px",borderRadius:"12px"},children:Object(O.jsx)(H.a,{activeStep:f,children:d.map((function(e){return Object(O.jsx)(Z.a,{children:Object(O.jsx)(U.a,{children:e})},e)}))})}),Object(O.jsxs)(p.a,{style:{marginTop:"32px"},children:[Object(O.jsxs)(x.a,{variant:"h1",style:{fontSize:24},children:[0===f&&"Sell Price",1===f&&!A&&"Approve",(2===f||1===f&&A)&&!q&&!G&&"Sign",(2===f||1===f&&A)&&q&&!G&&"Listing in progress",(2===f||1===f&&A)&&G&&"Successfully listed!"]}),Object(O.jsxs)(x.a,{variant:"h1",style:{fontSize:16,marginTop:"32px"},children:[0===f&&"Enter price in CORE for this NFT",1===f&&!A&&"Perform this with your wallet",(2===f||1===f&&A)&&!q&&!G&&"Set your sale listing expiry time",(2===f||1===f&&A)&&q&&!G&&"Please wait while we confirm your listing",(2===f||1===f&&A)&&G&&G&&"Your NFT is now listed for ".concat(v," CORE")]}),Object(O.jsxs)(p.a,{style:{marginTop:"24px"},children:[0===f&&Object(O.jsxs)($,{children:[Object(O.jsx)(K,{type:"number",placeholder:"0.0",onChange:function(e){y(e.target.value||0)}}),Object(O.jsx)(J,{children:"CORE"})]}),1===f&&!A&&Object(O.jsx)(x.a,{style:{fontSize:14},children:"Awaiting your approval to list your NFTs"}),(2===f||1===f&&A)&&!q&&!G&&Object(O.jsx)(p.a,{style:{display:"flex",alignItems:"center",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:32},children:V.map((function(e){return Object(O.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flex:1,padding:"10px",borderRadius:32,fontSize:12,fontWeight:600,cursor:"pointer",backgroundColor:I===e.days?"#3960C1":""},onClick:function(){return E(e.days)},role:"presentation",children:e.label},e.label)}))}),(2===f||1===f&&A)&&!q&&!G&&Object(O.jsxs)(x.a,{style:{fontSize:14,marginTop:24},children:["Your listing will expire on ",Y()().add("days",I).format("LLL")]})]}),Object(O.jsxs)(p.a,{style:{marginTop:"24px"},children:[(2===f||1===f&&A)&&!q&&!G&&Object(O.jsxs)(x.a,{style:{fontSize:14,padding:"24px 0",borderTop:"1px solid rgba(0, 0, 0, 0.1)"},children:["Your listing price is ",v," CORE($",new k.a(v||0).times(ee||0).dp(2,1).toString(),")"]}),(2===f||1===f&&A)&&G&&Object(O.jsx)(x.a,{style:{fontSize:14,padding:"24px 0",borderTop:"1px solid rgba(0, 0, 0, 0.1)"},children:"Your NFT is now for sale on the marketplace. The NFT still remains in your wallet"}),(2===f||1===f&&A)&&q&&Object(O.jsx)(x.a,{style:{fontSize:14,padding:"24px 0",borderTop:"1px solid rgba(0, 0, 0, 0.1)"},children:"Your NFT is being listed on the marketplace"}),Object(O.jsxs)(C.a,{sx:{width:"100%",py:"12px",backgroundColor:"#3960C1"},variant:"contained",color:"secondary",disableElevation:!0,disabled:0===f&&new k.a(v||0).isLessThanOrEqualTo(0),onClick:function(){0!==f&&1!==f||A||(h(1),W()),0===f&&A&&h(1),(2===f&&!G||1===f&&A&&!G)&&X(null===t||void 0===t?void 0:t.address,n.tokenId,new k.a(v).toString(10),Y()().add("days",I).unix()),(2===f&&G||1===f&&A&&G)&&s()},children:[0===f&&"Next Step",1===f&&!A&&Object(O.jsxs)(O.Fragment,{children:[F&&Object(O.jsx)(T.a,{style:{width:20,height:20,marginRight:6,color:"red"},color:"secondary"}),F?"Pending approval":"Approve"]}),(2===f||1===f&&A)&&!G&&Object(O.jsxs)(O.Fragment,{children:[q&&Object(O.jsx)(T.a,{style:{width:20,height:20,marginRight:6,color:"red"},color:"secondary"}),q?"Pending confirmation":"List NFT for sale"]}),(2===f||1===f&&A)&&G&&"Done"]})]}),0===f&&Object(O.jsxs)(p.a,{style:{marginTop:"24px"},children:[Object(O.jsx)(x.a,{style:{fontSize:14},children:"Once sold, the following fees will be deducted:"}),Object(O.jsxs)(x.a,{style:{fontSize:14},children:[a,"% service fee | ",c,"% creator royalty | You get approx"," ",new k.a(v-v*(+a/100)-+c/100*(v-v*(+a/100))).dp(2,1).toString(10)," ","CORE"]})]})]})]})},ee=n(174),te=n.n(ee),ne=Object(G.a)("div")((function(e){var t=e.theme;return{display:"flex",alignItems:"center",position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:t.palette.grey[100],width:"100%"}})),ae=Object(G.a)("div")((function(e){e.theme;return{height:"100%",right:40,position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),re=Object(G.a)(q.c)((function(e){var t=e.theme;return{color:"inherit",width:"100%","& .MuiInputBase-input":{padding:t.spacing(2.5,2.1,2.3,2.5),paddingRight:"calc(1em + ".concat(t.spacing(6),")"),width:"100%"}}})),ce=["Enter CORE address","Success"],ie=function(e){var t=e.account,n=e.collectionInfo,a=e.tokenInfo,c=e.onCancel,s=Object(i.useState)(0),o=Object(r.a)(s,2),l=o[0],d=o[1],u=Object(i.useState)(""),b=Object(r.a)(u,2),j=b[0],f=b[1],h=Object(R.w)(null===n||void 0===n?void 0:n.address),g=Object(r.a)(h,3),m=g[0],v=g[1],y=g[2];Object(i.useEffect)((function(){v&&d(1)}),[v]);return Object(O.jsxs)(p.a,{children:[Object(O.jsxs)(p.a,{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(O.jsx)(x.a,{variant:"h1",style:{fontSize:24},children:"Transfer ownership"}),Object(O.jsx)(x.a,{variant:"h1",style:{fontSize:16,cursor:"pointer"},onClick:c,children:v?"Done":"Cancel"})]}),Object(O.jsx)(p.a,{sx:{width:"100%",padding:"24px 4px",marginTop:"24px",borderRadius:"12px"},children:Object(O.jsx)(H.a,{activeStep:l,children:ce.map((function(e){return Object(O.jsx)(Z.a,{children:Object(O.jsx)(U.a,{children:e})},e)}))})}),Object(O.jsxs)(p.a,{style:{marginTop:"32px"},children:[Object(O.jsxs)(x.a,{variant:"h1",style:{fontSize:24},children:[0===l&&"Enter CORE address",1===l&&"Successfully transfered!"]}),Object(O.jsx)(x.a,{variant:"h1",style:{fontSize:16,marginTop:"32px"},children:0===l&&"Transfer ".concat((null===a||void 0===a?void 0:a.name)||"")}),Object(O.jsx)(p.a,{style:{marginTop:"24px"},children:0===l&&Object(O.jsxs)(ne,{children:[Object(O.jsx)(re,{type:"text",placeholder:"Enter a valid address",onChange:function(e){f(e.target.value||0)}}),Object(O.jsx)(ae,{children:Object(O.jsx)(p.a,{sx:{maxWidth:"20px"},children:"CORE"})})]})}),Object(O.jsxs)(p.a,{style:{marginTop:"24px"},children:[0===l&&te.a.utils.isAddress(j)&&Object(O.jsxs)(x.a,{style:{fontSize:14,padding:"24px 0",borderTop:"1px solid rgba(0, 0, 0, 0.1)"},children:["Please confirm this address is correct"," ",Object(O.jsx)("strong",{children:"".concat(j.substr(0,4),"...").concat(j.substr(j.length-4,4))})]}),Object(O.jsxs)(C.a,{sx:{width:"100%",py:"12px",backgroundColor:"#3960C1"},variant:"contained",color:"secondary",disableElevation:!0,disabled:0===l&&!te.a.utils.isAddress(j),onClick:function(){0===l?y(t,j,null===a||void 0===a?void 0:a.tokenId):c()},children:[m&&Object(O.jsx)(T.a,{style:{width:20,height:20,marginRight:6,color:"red"},color:"secondary"}),0===l&&"Transfer",1===l&&"Done"]})]})]})]})},se=Object(G.a)("div")((function(e){var t=e.theme;return{display:"flex",alignItems:"center",position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:t.palette.grey[100],width:"100%"}})),oe=Object(G.a)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",right:0,position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),le=Object(G.a)(q.c)((function(e){var t=e.theme;return{color:"inherit",width:"100%","& .MuiInputBase-input":{padding:t.spacing(2.5,2.1,2.3,2.5),paddingRight:"calc(1em + ".concat(t.spacing(9),")"),width:"100%"}}})),de=Object(s.default)(p.a)(P||(P=Object(c.a)(["\n  .expiry-item {\n    background-color: ",";\n    color: ",";\n  }\n"])),(function(e){return e.theme.colors.background}),(function(e){return e.theme.colors.text})),ue=[{label:"3 days",days:3},{label:"7 days",days:7},{label:"30 days",days:30},{label:"6 months",days:180}],be=function(e){var t=e.collectionInfo,n=e.tokenInfo,a=e.coreBalance,c=e.wcoreBalance,s=e.onCancel,o=e.onPlaceBid,l=Object(i.useState)(["Bid amount","Convert","Approve","Sign"]),d=Object(r.a)(l,2),u=d[0],b=d[1],j=Object(i.useState)(0),f=Object(r.a)(j,2),h=f[0],g=f[1],m=Object(i.useState)(0),v=Object(r.a)(m,2),y=v[0],w=v[1],S=Object(i.useState)(3),I=Object(r.a)(S,2),E=I[0],z=I[1],B=Object(R.h)(),F=Object(r.a)(B,1)[0],W=Object(R.f)(),P=Object(r.a)(W,3),D=P[0],A=P[1],M=P[2],L=Object(R.c)(),N=Object(r.a)(L,3),_=N[0],q=N[1],G=N[2],$=Object(R.d)(),J=Object(r.a)($,3),K=J[0],Q=J[1],V=J[2];Object(i.useEffect)((function(){A&&g(F?u.length-1:u.length-2)}),[A,F,u]),Object(i.useEffect)((function(){q&&g(u.length-1)}),[q,u]),Object(i.useEffect)((function(){Q&&o()}),[Q,o]),Object(i.useEffect)((function(){new k.a(y).isGreaterThan(c)?b(F?["Bid amount","Convert","Sign"]:["Bid amount","Convert","Approve","Sign"]):b(F?["Bid amount","Sign"]:["Bid amount","Approve","Sign"])}),[y,F,c]);return Object(O.jsxs)(de,{children:[Object(O.jsxs)(p.a,{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(O.jsx)(x.a,{variant:"h1",style:{fontSize:24},children:"Place a bid"}),Object(O.jsx)(x.a,{variant:"h1",style:{fontSize:16,cursor:"pointer"},onClick:s,children:Q?"Done":"Cancel"})]}),Object(O.jsx)(p.a,{sx:{width:"100%",padding:"24px 4px",marginTop:"24px",borderRadius:"12px"},children:Object(O.jsx)(H.a,{activeStep:h,children:u.map((function(e){return Object(O.jsx)(Z.a,{children:Object(O.jsx)(U.a,{children:e})},e)}))})}),Object(O.jsxs)(p.a,{style:{marginTop:"32px"},children:[Object(O.jsxs)(x.a,{variant:"h1",style:{fontSize:24},children:[0===h&&"Bid amount","Convert"===u[h]&&"Convert","Approve"===u[h]&&"Approve","Sign"===u[h]&&!Q&&!K&&"Sign","Sign"===u[h]&&!Q&&K&&"Bid in progress","Sign"===u[h]&&Q&&"Your bid is placed"]}),Object(O.jsxs)(x.a,{variant:"h1",style:{fontSize:16,marginTop:"32px"},children:[0===h&&"Your bid for this NFT",("Convert"===u[h]||"Approve"===u[h])&&"Perform this with your wallet","Sign"===u[h]&&!Q&&!K&&"Set your bid expiry time","Sign"===u[h]&&!Q&&K&&"Please wait while we confirm your bid","Sign"===u[h]&&Q&&"Please keep your ".concat(y," WCORE available in your wallet for the bid to be valid.")]}),Object(O.jsx)(p.a,{style:{marginTop:"24px"},children:0===h&&Object(O.jsxs)(se,{children:[Object(O.jsx)(le,{type:"number",placeholder:"0.0",onChange:function(e){w(e.target.value||0)}}),Object(O.jsx)(oe,{children:"WCORE"})]})}),0===h&&Object(O.jsxs)(p.a,{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"24px"},children:[Object(O.jsx)(x.a,{style:{fontSize:14},children:"Your CORE balance"}),Object(O.jsxs)(x.a,{style:{fontSize:14},children:[new k.a(a).dp(2,1).toString(10)," CORE"]})]}),0===h&&Object(O.jsxs)(p.a,{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"24px"},children:[Object(O.jsx)(x.a,{style:{fontSize:14},children:"Your WCORE balance"}),Object(O.jsxs)(x.a,{style:{fontSize:14},children:[new k.a(c).dp(2,1).toString(10)," WCORE"]})]}),"Convert"===u[h]&&Object(O.jsxs)(p.a,{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"24px"},children:[Object(O.jsx)(x.a,{style:{fontSize:14},children:"From"}),Object(O.jsxs)(x.a,{style:{fontSize:14},children:[new k.a(y).minus(c).toString(10)," CORE"]})]}),"Convert"===u[h]&&Object(O.jsxs)(p.a,{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"24px"},children:[Object(O.jsx)(x.a,{style:{fontSize:14},children:"To"}),Object(O.jsxs)(x.a,{style:{fontSize:14},children:[new k.a(y).minus(c).toString(10)," WCORE"]})]}),"Sign"===u[h]&&!Q&&!K&&Object(O.jsx)(p.a,{style:{display:"flex",alignItems:"center",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:32},children:ue.map((function(e){return Object(O.jsx)("div",{className:"expiry-item",style:{display:"flex",alignItems:"center",justifyContent:"center",flex:1,padding:"10px",borderRadius:32,fontSize:12,fontWeight:600,cursor:"pointer",backgroundColor:E===e.days?"#3960C1":""},onClick:function(){return z(e.days)},role:"presentation",children:e.label},e.label)}))}),"Sign"===u[h]&&!Q&&!K&&Object(O.jsxs)(x.a,{style:{fontSize:14,marginTop:24},children:["Your bid will expire on ",Y()().add("days",E).format("LLL")]}),Object(O.jsxs)(p.a,{style:{marginTop:"24px"},children:[new k.a(y).isGreaterThan(c)&&("Bid amount"===u[h]||"Convert"===u[h])&&Object(O.jsxs)(x.a,{style:{fontSize:14,padding:"24px 0",borderTop:"1px solid rgba(0, 0, 0, 0.1)"},children:[new k.a(y).minus(c).toString(10)," CORE will be converted to"," ",new k.a(y).minus(c).toString(10)," WCORE"]}),"Sign"===u[h]&&!Q&&!K&&Object(O.jsxs)(x.a,{style:{fontSize:14,padding:"24px 0",borderTop:"1px solid rgba(0, 0, 0, 0.1)"},children:["You're placing a bid for ",y," WCORE"]}),"Sign"===u[h]&&!Q&&K&&Object(O.jsx)(x.a,{style:{fontSize:14,padding:"24px 0",borderTop:"1px solid rgba(0, 0, 0, 0.1)"},children:"Your bid on the NFT is being placed"}),"Sign"===u[h]&&Q&&Object(O.jsxs)(x.a,{style:{fontSize:14,padding:"24px 0",borderTop:"1px solid rgba(0, 0, 0, 0.1)"},children:["Your bid will expire on ",Y()().add("days",E).format("LLL")]}),Object(O.jsxs)(C.a,{sx:{width:"100%",py:"12px",backgroundColor:"#3960C1"},variant:"contained",color:"secondary",disableElevation:!0,disabled:0===h&&(new k.a(y||0).isLessThanOrEqualTo(0)||new k.a(y||0).isGreaterThanOrEqualTo(new k.a(a).plus(c))),onClick:function(){0===h&&g(1),"Convert"===u[h]&&M(new k.a(y).minus(c).toString(10)),"Approve"===u[h]&&G(),"Sign"!==u[h]||Q||V(null===t||void 0===t?void 0:t.address,n.tokenId,new k.a(y).toString(10),Y()().add("days",E).unix()),Q&&s()},children:[0===h&&"Next step","Convert"===u[h]&&Object(O.jsxs)(O.Fragment,{children:[D&&Object(O.jsx)(T.a,{style:{width:20,height:20,marginRight:6,color:"red"},color:"secondary"}),D?"Pending conversion":"Convert"]}),"Approve"===u[h]&&Object(O.jsxs)(O.Fragment,{children:[_&&Object(O.jsx)(T.a,{style:{width:20,height:20,marginRight:6,color:"red"},color:"secondary"}),_?"Pending approval":"Approve"]}),"Sign"===u[h]&&!Q&&Object(O.jsxs)(O.Fragment,{children:[K&&Object(O.jsx)(T.a,{style:{width:20,height:20,marginRight:6,color:"red"},color:"secondary"}),K?"Pending confirmation":"Place bid"]}),"Sign"===u[h]&&Q&&"DONE"]})]})]})]})},je=Object(s.default)(p.a)(D||(D=Object(c.a)(["\n  border-radius: 20px;\n  box-shadow: 0px 4px 10px rgba(105, 105, 105, 0.15);\n  padding: 24px 32px;\n\n  span,\n  a,\n  p,\n  h1,\n  div,\n  .MuiStepLabel-label {\n    color: "," !important;\n  }\n  .MuiButton-root {\n    background: ",";\n    padding: 4px 12px;\n    border-radius: 50px;\n  }\n\n  input {\n    background: ",";\n  }\n"])),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.backgroundDisabled}),(function(e){return e.theme.colors.background})),pe=Object(s.default)(I.l)(A||(A=Object(c.a)(["\n  width: 50%;\n  color: white !important;\n"]))),xe=Object(s.default)(C.a)(M||(M=Object(c.a)(["\n  color: "," !important;\n"])),(function(e){return e.theme.colors.text})),fe=s.default.a(L||(L=Object(c.a)(["\n  background: ",";\n  width: 32px;\n  height: 32px;\n  border-radius: 100px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),(function(e){return e.theme.colors.primary})),he=function(e){var t=e.collectionInfo,n=e.tokenInfo,a=e.attributeInfo,c=e.tokenOwner,s=e.priceData,o=e.serviceFee,l=e.royalty,u=e.isWithdrawBid,b=e.onPlaceBid,j=Object(i.useState)(!1),h=Object(r.a)(j,2),g=h[0],m=h[1],v=Object(i.useState)(!1),y=Object(r.a)(v,2),S=y[0],C=y[1],I=Object(i.useState)(!1),B=Object(r.a)(I,2),W=B[0],P=B[1],D=Object(i.useState)([]),A=Object(r.a)(D,2),M=A[0],L=A[1],N=Object(i.useState)(!1),Y=Object(r.a)(N,2),H=Y[0],Z=Y[1],U=Object(d.d)().account,_=Object(z.e)(),q=Object(z.k)(),G=Object(R.e)(),$=Object(r.a)(G,2),J=$[0],K=$[1],Q=Object(R.g)(),V=Object(r.a)(Q,3),ee=V[0],te=V[1],ne=V[2],ae=Object(R.u)(null===t||void 0===t?void 0:t.address,n.tokenId,J||g||te||S||W),re=Object(R.i)(),ce=Object(r.a)(re,2),se=ce[0],oe=ce[1];Object(i.useEffect)((function(){oe(null===t||void 0===t?void 0:t.address,n.tokenId)}),[t,n,U,W,u,oe]),Object(i.useEffect)((function(){window.location.search&&(new URLSearchParams(window.location.search).get("transfer")&&C(!0))}),[]),Object(i.useEffect)((function(){if(t&&a&&a.attributeCategories){var e=[],n=t.totalSupply;a.attributeCategories.map((function(t){return e.push({label:t.type,select:Object(w.a)(t.values.map((function(e){return{label:e.value,amount:e.count,percentage:new k.a(e.count).div(n).times(100).dp(2,1).toString()}})))}),!0})),L(e)}}),[t,a]);var le,de=function(e){if(n&&n.attributes){var t=n.attributes.findIndex((function(t){return t.trait_type===e.label}));return-1!==t?n.attributes[t].value:""}return""},ue=function(e){if(n&&n.attributes){var t=n.attributes.findIndex((function(t){return t.trait_type.toLowerCase()===e.label.toLowerCase()}));if(-1!==t&&e&&e.select){var a=e.select.findIndex((function(e){return e.label===n.attributes[t].value}));return-1!==a?e.select[a].percentage:0}return 0}return 0};return Object(O.jsxs)(je,{children:[g&&Object(O.jsx)(X,{collectionInfo:t,tokenInfo:n,serviceFee:o,royalty:l,onCancel:function(){return m(!1)}}),S&&Object(O.jsx)(ie,{account:U||"",collectionInfo:t,tokenInfo:n,onCancel:function(){return C(!1)}}),W&&Object(O.jsx)(be,{coreBalance:_.div(Math.pow(10,18)).toString(),wcoreBalance:q.div(Math.pow(10,18)).toString(),collectionInfo:t,tokenInfo:n,onCancel:function(){return P(!1)},onPlaceBid:b}),!g&&!S&&!W&&Object(O.jsxs)(p.a,{children:[Object(O.jsx)(x.a,{variant:"h1",sx:{fontSize:"24px",fontWeight:600,mb:"20px"},children:(null===n||void 0===n?void 0:n.name)||""}),Object(O.jsxs)(p.a,{sx:{display:"flex",alignItems:"center",gap:"5px",mb:"15px"},children:[Object(O.jsx)("img",{src:"/images/nfts/marketplace/traits.svg",alt:"traits"}),"Traits"]}),Object(O.jsx)(p.a,{display:"flex",gap:"15px",sx:{flexWrap:"wrap",mb:"25px"},children:M.map((function(e,t){return Object(O.jsxs)(E.a,{variant:"text",sx:{display:{xs:"none",md:"flex"},p:"8px 16px",borderRadius:"50px"},children:[Object(O.jsxs)(xe,{sx:{color:"common.black",flexDirection:"column",p:"0",pr:"10px",fontSize:"12px",fontWeight:"500"},children:[e.label," : ",de(e)]}),Object(O.jsxs)(xe,{sx:{color:"common.black",flexDirection:"column",p:"0",pl:"10px",fontSize:"12px",fontWeight:"500"},children:[ue(e),"%"]})]},e.label)}))}),Object(O.jsxs)(p.a,{sx:{mb:"20px",display:"flex",justifyContent:"space-between"},children:[c===U&&Object(O.jsxs)(x.a,{sx:{fontSize:"14px"},children:["Owned by you |"," ",Object(O.jsx)("strong",{style:{cursor:"pointer"},onClick:function(){return C(!0)},role:"presentation",children:"Transfer"})]}),c!==U&&Object(O.jsx)(x.a,{sx:{fontSize:"14px"},children:"Owned by"}),c!==U&&Object(O.jsxs)(p.a,{sx:{display:"flex",alignItems:"center",gap:"5px"},children:[Object(O.jsx)(x.a,{sx:{fontSize:"14px"},children:(le=c||"","".concat(le.slice(0,6),"...").concat(le.slice(-4)))}),Object(O.jsx)(fe,{href:"https://scan.coredao.org/address/".concat(c),rel:"noreferrer",target:"_blank",children:Object(O.jsx)("img",{src:"/images/nfts/marketplace/scan.svg",alt:"scan"})})]})]}),Object(O.jsx)(f.a,{}),Object(O.jsx)(p.a,{sx:{mt:"35px",mb:"20px",display:"flex",alignItems:"center",gap:"10px"},children:Object(O.jsxs)(x.a,{children:["Rarity rank: ",n.rarityRank||""]})}),!new k.a(ae.value).isZero()&&!new k.a(ae.expireTimestamp).isZero()&&!H&&Object(O.jsxs)(p.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:"30px"},children:[Object(O.jsx)(x.a,{sx:{fontSize:"14px"},children:"sell price"}),Object(O.jsxs)(p.a,{sx:{display:"flex",alignItems:"center",gap:"10px"},children:[Object(O.jsx)(p.a,{sx:{display:"flex",alignItems:"center",gap:"5px"},children:Object(O.jsxs)(x.a,{sx:{fontSize:"20px",color:"#EF5DA8",fontWeight:"700"},children:[new k.a((null===ae||void 0===ae?void 0:ae.value)||0).div(Math.pow(10,18)).toString(10)," CORE"]})}),Object(O.jsxs)(x.a,{sx:{fontSize:"16px",fontWeight:"500",color:"#4D4D4D",p:"4px 15px",borderRadius:"50px"},children:["$",new k.a((null===ae||void 0===ae?void 0:ae.value)||0).div(Math.pow(10,18)).times(s||0).dp(2,1).toString()]})]})]}),!new k.a(ae.expireTimestamp).isZero()&&!H&&Object(O.jsxs)(p.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:"18px"},children:[Object(O.jsx)(x.a,{sx:{fontSize:"12px",color:"#666666"},children:"Sale ends in"}),Object(O.jsx)(p.a,{sx:{display:"flex",gap:"10px"},children:Object(O.jsx)(F,{timestamp:(null===ae||void 0===ae?void 0:ae.expireTimestamp)||0,onExpired:function(){Z(!0)}})})]}),Object(O.jsxs)(p.a,{children:[Object(O.jsxs)(p.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(O.jsx)(x.a,{sx:{fontSize:"14px",color:"#333333",fontWeight:500},children:"Market Status"}),Object(O.jsx)(x.a,{sx:{fontSize:"14px",color:"#333333",fontWeight:600},children:new k.a(ae.value||0).isZero()?"Not for Sale":"For sale"})]}),Object(O.jsxs)(p.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:"18px"},children:[Object(O.jsx)(x.a,{sx:{fontSize:"12px",color:"#666666"},children:"Service Fee:"}),Object(O.jsxs)(x.a,{sx:{fontSize:"12px",color:"#666666"},children:[o,"%"]})]})]}),Object(O.jsxs)(p.a,{sx:{display:"flex",gap:"24px"},children:[c!==U&&Object(O.jsx)(pe,{onClick:function(){return P(!0)},children:new k.a(se.value||0).isZero()?"Place a bid":"Update bid price"}),c===U&&Object(O.jsx)(pe,{onClick:function(){return m(!0)},children:new k.a(ae.value).isZero()?"List onto market":"Change sell price"}),c===U&&!new k.a(ae.value).isZero()&&Object(O.jsxs)(pe,{disabled:!t.address||void 0===n.tokenId,onClick:function(){t.address&&n.tokenId&&ne(t.address,n.tokenId)},children:[ee&&Object(O.jsx)(T.a,{style:{width:20,height:20,marginRight:6,color:"red"},color:"secondary"}),"Remove from market"]}),c!==U&&!new k.a(ae.value).isZero()&&!H&&Object(O.jsxs)(pe,{variant:"primary",disabled:!t.address||void 0===n.tokenId,onClick:function(){if(t.address&&n.tokenId){var e=new k.a(ae.value).div(Math.pow(10,18)).toString(10);K(e,t.address,n.tokenId)}},children:[J&&Object(O.jsx)(T.a,{style:{width:20,height:20,marginRight:6,color:"red"},color:"secondary"}),"Buy now"]})]})]})]})},Oe=n(1997),ge=n(2002),me=n(2006),ve=n(2005),ye=n(2001),we=n(2003),Se=n(1962),ke=n(2004);function Ce(e){var t=e.columns,n=e.rows,a=e.onCancelBid,c=e.onAcceptBid,s=Object(i.useState)(0),o=Object(r.a)(s,2),l=o[0],d=o[1],u=Object(i.useState)(10),b=Object(r.a)(u,2),j=b[0],p=b[1];return Object(O.jsxs)(Oe.a,{style:{width:"100%",borderRadius:"20px",boxShadow:"0px 4px 10px rgba(105, 105, 105, 0.15)"},children:[Object(O.jsx)(ye.a,{children:Object(O.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(O.jsx)(we.a,{children:Object(O.jsx)(ke.a,{children:t.map((function(e){return Object(O.jsx)(ve.a,{sx:{bgcolor:"#F6F6F6"},align:e.align,children:e.label},e.id)}))})}),Object(O.jsx)(me.a,{children:n.slice(l*j,l*j+j).map((function(e,n){return Object(O.jsx)(ke.a,{hover:!0,role:"checkbox",tabIndex:-1,style:{cursor:"pointer"},children:t.map((function(t){var n=e[t.id];return Object(O.jsx)(ve.a,{align:t.align,style:{cursor:"Cancel"===n||"Accept"===n?"pointer":"",fontWeight:"Cancel"===n||"Accept"===n?"bold":"normal"},onClick:function(){"Cancel"===n?a():"Accept"===n&&c(e)},children:n},t.id)}))},Math.random())}))})]})}),Object(O.jsx)(Se.a,{rowsPerPageOptions:[10,25,100],component:"div",count:n.length,rowsPerPage:j,page:l,onPageChange:function(e,t){d(t)},onRowsPerPageChange:function(e){p(+e.target.value),d(0)}})]})}var Ie=[{id:"wcore",label:"WCORE",minWidth:170},{id:"usd",label:"USD",minWidth:170},{id:"from",label:"From",minWidth:100},{id:"expiration",label:"Expiration",minWidth:100},{id:"action",label:"Action",minWidth:170,align:"right"}],Ee=function(e){var t=Y()(1e3*e).diff(Y()(new Date),"days");if(t)return"".concat(Math.abs(t)," days");var n=Y()(1e3*e).diff(Y()(new Date),"hours");if(n)return"".concat(Math.abs(n)," hours");var a=Y()(1e3*e).diff(Y()(new Date),"minutes");if(a)return"".concat(Math.abs(a)," minutes");var r=Y()(1e3*e).diff(Y()(new Date),"seconds");return"".concat(Math.abs(r||0)," seconds")},Te=function(e){var t=e.tokenBids,n=e.priceData,a=e.account,c=e.tokenOwner,s=e.onCancelBid,o=e.onAcceptBid,l=Object(i.useState)([]),d=Object(r.a)(l,2),u=d[0],b=d[1];return Object(i.useEffect)((function(){var e=[];(t||[]).map((function(t){var r={tokenId:t.tokenId,wcore:new k.a(t.value).div(Math.pow(10,18)).toString(),rawWcore:t.value,usd:"~$".concat(new k.a(t.value).div(Math.pow(10,18)).times(n||0).dp(2,1).toString()),from:a===t.bidder?"You":"".concat(t.bidder.substr(0,4),"...").concat(t.bidder.substr(t.bidder.length-4,4)),fromFullAddress:t.bidder,expiration:"".concat(Ee(t.expireTimestamp)),action:""};return a===t.bidder?r.action="Cancel":a===c&&(r.action="Accept"),e.push(r),!0})),b(e)}),[a,c,t,n]),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(p.a,{style:{borderRadius:"20px",boxShadow:"0px 4px 10px rgba(105, 105, 105, 0.15)"},children:Object(O.jsx)(Ce,{tableTitle:"Active Bids",columns:Ie,rows:u,onCancelBid:s,onAcceptBid:o})})})};function Re(e){var t=e.tableTitle,n=e.columns,a=void 0===n?[]:n,c=e.rows,s=void 0===c?[]:c,o=i.useState(0),l=Object(r.a)(o,2),d=l[0],u=l[1],b=i.useState(10),j=Object(r.a)(b,2),p=j[0],f=j[1];return Object(O.jsxs)(Oe.a,{sx:{width:"100%",overflow:"hidden",boxShadow:"none",border:"1px solid #E0E0E0"},children:[Object(O.jsxs)(ye.a,{sx:{maxHeight:440},children:[Object(O.jsx)(x.a,{sx:{minWidth:300,p:"16px"},children:t}),Object(O.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(O.jsx)(we.a,{children:Object(O.jsx)(ke.a,{children:a.map((function(e){return Object(O.jsx)(ve.a,{align:e.align,sx:{bgcolor:"#F6F6F6",borderTop:"1px solid #E0E0E0"},children:e.label},e.id)}))})}),Object(O.jsx)(me.a,{children:s.slice(d*p,d*p+p).map((function(e,t){return Object(O.jsx)(ke.a,{hover:!0,role:"checkbox",tabIndex:-1,style:{cursor:"pointer"},onClick:function(){e.transactionHash&&window.open("https://scan.coredao.org/tx/".concat(e.transactionHash))},children:a.map((function(t){var n=e[t.id];return Object(O.jsx)(ve.a,{align:t.align,children:n},t.id)}))},Math.random())}))})]})]}),Object(O.jsx)(Se.a,{rowsPerPageOptions:[10,25,100],component:"div",count:s.length,rowsPerPage:p,page:d,onPageChange:function(e,t){u(t)},onRowsPerPageChange:function(e){f(+e.target.value),u(0)}})]})}var ze,Be,Fe,We=[{id:"event",label:"Event",minWidth:170},{id:"core",label:"CORE",minWidth:170},{id:"from",label:"From",minWidth:100},{id:"to",label:"To",minWidth:100},{id:"date",label:"Date",minWidth:170,align:"right"}],Pe={TokenBidWithdrawn:"Canceled",TokenBought:"Sale",TokenBidAccepted:"Sale",TokenDelisted:"DeListing",TokenListed:"Listing",TokenBidEntered:"Bid",Transfer:"Transfer"},De=function(e){var t=Y()(1e3*e).diff(Y()(new Date),"days");if(t)return"".concat(Math.abs(t)," days");var n=Y()(1e3*e).diff(Y()(new Date),"hours");if(n)return"".concat(Math.abs(n)," hours");var a=Y()(1e3*e).diff(Y()(new Date),"minutes");if(a)return"".concat(Math.abs(a)," minutes");var r=Y()(1e3*e).diff(Y()(new Date),"seconds");return"".concat(Math.abs(r||0)," seconds")},Ae=function(e){var t=e.tokenEvents,n=Object(i.useState)([]),a=Object(r.a)(n,2),c=a[0],s=a[1];return Object(i.useEffect)((function(){var e=[];(t||[]).map((function(t){return e.push({event:Pe[t.event],core:t.valueNum,from:t.from.substr(2,6),to:t.to?t.to.substr(2,6):"-",date:"".concat(De(t.timestamp)," ago"),transactionHash:t.transactionHash}),!0})),s(e)}),[t]),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(p.a,{style:{borderRadius:"20px",boxShadow:"0px 4px 10px rgba(105, 105, 105, 0.15)"},children:Object(O.jsx)(Re,{tableTitle:"Transaction History",columns:We,rows:c})})})},Me=n(1447),Le=n(1335),Ne=s.default.div(ze||(ze=Object(c.a)(["\n  width: 100%;\n  background: ",";\n  padding-bottom: 100px;\n"])),(function(e){return e.theme.colors.card})),Ye=s.default.div(Be||(Be=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  padding: 25px 85px;\n  background: ",";\n\n  @media (max-width: 768px) {\n    padding: 24px;\n  }\n\n  .back-wrap {\n    display: flex;\n    align-items: center;\n    img {\n      margin-right: 20px;\n    }\n    > div {\n      font-weight: 500;\n      font-size: 16px;\n      color: ",";\n    }\n  }\n"])),(function(e){return e.theme.colors.card}),(function(e){return e.theme.colors.text})),He=s.default.div(Fe||(Fe=Object(c.a)(["\n  display: flex;\n  padding: 0px 85px;\n  background: ",";\n  max-width: 1200px;\n  @media (max-width: 768px) {\n    padding: 0px 24px;\n  }\n  .left-side {\n    width: 100%;\n    max-width: 469px;\n    .nft-art {\n      width: 100%;\n      border-radius: 20px;\n      margin-bottom: 40px;\n    }\n  }\n  .right-side {\n    flex: 1;\n    max-width: 480px;\n    margin-left: 35px;\n  }\n"])),(function(e){return e.theme.colors.card}));t.default=function(){var e=Object(u.a)(),t=Object(o.h)(),n=Object(d.d)().account,a=Object(Le.a)(t.alias),c=Object(Le.b)(t.alias),s=Object(Le.e)(t.alias,t.tokenId),p=Object(Le.g)({chainId:null===a||void 0===a?void 0:a.chainId,tokenAddress:null===a||void 0===a?void 0:a.address,tokenId:t.tokenId}),x=Object(R.m)(null===a||void 0===a?void 0:a.address),f=Object(r.a)(x,2),h=f[0],g=f[1],v=Object(R.o)(),w=Object(R.n)(null===a||void 0===a?void 0:a.address),S=Object(_.o)(),k=Object(R.p)(),C=Object(r.a)(k,2),I=C[0],E=C[1],T=Object(R.x)(),z=Object(r.a)(T,3),B=(z[0],z[1]),F=z[2],W=Object(R.a)(),P=Object(r.a)(W,3),D=(P[0],P[1]),A=P[2];Object(i.useEffect)((function(){g(t.tokenId)}),[a,t,n,D,g]),Object(i.useEffect)((function(){E(null===a||void 0===a?void 0:a.address,null===s||void 0===s?void 0:s.tokenId)}),[a,s,n,B,D,E]);return Object(O.jsxs)(Ne,{children:[Object(O.jsxs)(Ye,{children:[Object(O.jsx)(l.a,{to:"/marketplace/".concat(t.alias),children:Object(O.jsxs)("div",{className:"back-wrap",children:[Object(O.jsx)("img",{src:"/images/nfts/marketplace/back.svg",alt:"back"}),Object(O.jsx)("div",{children:t.alias})]})}),Object(O.jsx)(Me.a,{})]}),Object(O.jsx)(He,{children:Object(O.jsxs)(j.a,{container:!0,spacing:4,children:[Object(O.jsxs)(j.a,{item:!0,xs:12,md:6,sx:{display:"flex",flexDirection:"column",gap:"30px"},children:[Object(O.jsx)(y,{imageUrl:null===s||void 0===s?void 0:s.image}),Object(b.a)(e.breakpoints.up("md"))&&Object(O.jsxs)(O.Fragment,{children:[0!==p.length&&Object(O.jsx)(Ae,{tokenEvents:p}),Object(O.jsx)(m,{collectionInfo:a})]})]}),Object(O.jsxs)(j.a,{item:!0,xs:12,md:6,sx:{display:"flex",flexDirection:"column",gap:"30px"},children:[Object(O.jsx)(he,{collectionInfo:a,tokenInfo:s,attributeInfo:c,tokenOwner:h,priceData:S,serviceFee:v,royalty:w,isWithdrawBid:B,onPlaceBid:function(){E(null===a||void 0===a?void 0:a.address,null===s||void 0===s?void 0:s.tokenId)}}),0!==I.length&&Object(O.jsx)(Te,{tokenBids:I,priceData:S,account:n,tokenOwner:h,onCancelBid:function(){F(null===a||void 0===a?void 0:a.address,null===s||void 0===s?void 0:s.tokenId)},onAcceptBid:function(e){A(null===a||void 0===a?void 0:a.address,null===e||void 0===e?void 0:e.tokenId,null===e||void 0===e?void 0:e.fromFullAddress,null===e||void 0===e?void 0:e.rawWcore)}}),Object(b.a)(e.breakpoints.down("md"))&&Object(O.jsxs)(O.Fragment,{children:[0!==p.length&&Object(O.jsx)(Ae,{tokenEvents:p}),Object(O.jsx)(m,{collectionInfo:a})]})]})]})})]})}}}]);
//# sourceMappingURL=36.d3c4a390.chunk.js.map